<%# local stops form submittion using ajax requests which is the default behaviour %>
<%= render 'shared/form_errors', failed_operation: @article %>
<%= form_with(model: @article, local: true, class: "w-100") do |new_article| %>
  <div class="row my-4 w-100">
    <div class="col-auto">
      <%= new_article.label :title, class: "form-label" %>
    </div>
    <div class="col-12">
      <%= new_article.text_field :title, placeholder: "Title of your article", class: "form-control" %>
    </div>
  </div>
  <div class="row my-4 w-100">
    <div class="col-auto">
      <%= new_article.label :body, class: "form-label" %>
    </div>
    <div class="col-12">
      <%= new_article.text_area :body, rows:10, placeholder: "Write the body of your article", class: "form-control" %>
    </div>
  </div>
  <div class="row my-4 w-100">
    <div class="col-auto">
      <%= new_article.label :user, "Author", class: "form-label" %>
    </div>
    <div class="col-12">
    <%# Why do i need this {} ? without it it will not accept the class %>
      <%# <%= select_tag "article[user_id]", options_for_select(@users.map { |u| [u.username, u.id]}), class: "form-control" \%\> %>
      <%= new_article.select :user_id, @users.map { |u| [u.username, u.id]}, {
        selected: new_article.object.user_id || "",
        disabled: "",
        prompt: 'Please select user'
        }, class: "form-control" %>
    </div>
  </div>
  <div class="row mt-4 w-100 justify-content-end">
    <div class="col-auto">
      <%= new_article.submit class: "btn btn-secondary" %>
    </div>
    <div class="col-auto">
      <%= link_to 'Cancel', articles_path, class: "btn btn-outline-secondary" %>
    </div>
    
  </div>
<% end %>

